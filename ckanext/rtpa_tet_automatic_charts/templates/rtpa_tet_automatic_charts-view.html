{% extends "base.html" %}

{% block page %}


    <style>
            body {font-family: Verdana;}
            .node {
              border: solid 1px white;
              font: 10px sans-serif;
              line-height: 12px;
              overflow: hidden;
              position: absolute;
              text-indent: 2px;
            }
            .c3-line, .c3-focused {stroke-width: 3px !important;}
            .c3-bar {stroke: white !important; stroke-width: 1;}
            .c3 text { font-size: 12px; color: grey;}
            .tick line {stroke: white;}
            .c3-axis path {stroke: grey;}
            .c3-circle { opacity: 1 !important; }
    </style>

    <script type="text/javascript" src="http://deep.routetopa.eu/deep_1_9_rev/COMPONENTS/bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


    <link rel="import" href="http://deep.routetopa.eu/deep_1_9_rev/COMPONENTS/datalets/columnchart-datalet/columnchart-datalet.html" />
    <link rel="import" href="http://deep.routetopa.eu/deep_1_9_rev/COMPONENTS/datalets/datatable-datalet/datatable-datalet.html" /> 
    <link rel="import" href="http://deep.routetopa.eu/deep_1_9_rev/COMPONENTS/datalets/barchart-datalet/barchart-datalet.html" />
  
<div>
	{% for resource in resource_fields %}
	{{resource}}
	<columnchart-datalet data-url='{{ckanurl}}/rtpa/{{dataset_id}}/{{resource}}'
									selectedfields='[
										{"field":"XAxis","value":"Range","index":3},
										{"field":"NumericYAxis","value":"Frequency","index":1},null,null] 
										filters=[] aggregators=[] orders=[]
											x-axis-label="Range of values in the field {{resource}}"
									y-axis-label='Frequency' suffix='' legend='topRight' data-labels='true' stack='false' 
									theme='themeBase' fields=["Frequency","Name","Range"]></columnchart-datalet>
	
	{%endfor%}
</div>
  
  
  {% resource 'rtpa_tet_automatic_charts/main' %}
{% endblock %}

{% block styles %}{% endblock %}
{% block custom_styles %}{% endblock %}
